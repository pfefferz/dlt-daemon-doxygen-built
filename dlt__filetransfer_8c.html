<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>automotive-dlt: /home/pfefferz/dlt-daemon/src/lib/dlt_filetransfer.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">automotive-dlt
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dlt__filetransfer_8c.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">dlt_filetransfer.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;<a class="el" href="dlt__filetransfer_8h_source.html">dlt_filetransfer.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dlt__common_8h_source.html">dlt_common.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for dlt_filetransfer.c:</div>
<div class="dyncontent">
<div class="center"><img src="dlt__filetransfer_8c__incl.png" border="0" usemap="#_2home_2pfefferz_2dlt-daemon_2src_2lib_2dlt__filetransfer_8c" alt=""/></div>
<!-- MAP 0 -->
</div>
</div>
<p><a href="dlt__filetransfer_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a6b20d41d6252e9871430c242cb1a56e7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlt__filetransfer_8c.html#a6b20d41d6252e9871430c242cb1a56e7">BUFFER_SIZE</a>&#160;&#160;&#160;1024</td></tr>
<tr class="memdesc:a6b20d41d6252e9871430c242cb1a56e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the buffer size of a single file package which will be logged to dlt.  <a href="#a6b20d41d6252e9871430c242cb1a56e7">More...</a><br /></td></tr>
<tr class="separator:a6b20d41d6252e9871430c242cb1a56e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10c648ff1ef3048a96cbb3d2ef90b97e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlt__filetransfer_8c.html#a10c648ff1ef3048a96cbb3d2ef90b97e">MIN_TIMEOUT</a>&#160;&#160;&#160;20</td></tr>
<tr class="memdesc:a10c648ff1ef3048a96cbb3d2ef90b97e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the minimum timeout between two dlt logs. This is important because dlt should not be flooded with too many logs in a short period of time.  <a href="#a10c648ff1ef3048a96cbb3d2ef90b97e">More...</a><br /></td></tr>
<tr class="separator:a10c648ff1ef3048a96cbb3d2ef90b97e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36da536f827b1b6192f4b3fa0975b214"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlt__filetransfer_8c.html#a36da536f827b1b6192f4b3fa0975b214">DLT_FILETRANSFER_TRANSFER_ALL_PACKAGES</a>&#160;&#160;&#160;INT_MAX</td></tr>
<tr class="separator:a36da536f827b1b6192f4b3fa0975b214"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a665d8b4dd0991a49b2fd08aa11775261"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlt__filetransfer_8c.html#a665d8b4dd0991a49b2fd08aa11775261">getFilesize</a> (const char *file, int *ok)</td></tr>
<tr class="memdesc:a665d8b4dd0991a49b2fd08aa11775261"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get some information about the file size of a file.  <a href="#a665d8b4dd0991a49b2fd08aa11775261">More...</a><br /></td></tr>
<tr class="separator:a665d8b4dd0991a49b2fd08aa11775261"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d361034bc2eefcc8f3235832d67465a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlt__filetransfer_8c.html#a0d361034bc2eefcc8f3235832d67465a">stringHash</a> (const char *<a class="el" href="dlt__common_8c.html#afcb3381ffa895bfc940025cf7f0d9af0">str</a>, uint32_t *hash)</td></tr>
<tr class="separator:a0d361034bc2eefcc8f3235832d67465a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2c89ff36f1210bca331bd059f6c5a96"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlt__filetransfer_8c.html#ad2c89ff36f1210bca331bd059f6c5a96">getFileSerialNumber</a> (const char *file, int *ok)</td></tr>
<tr class="memdesc:ad2c89ff36f1210bca331bd059f6c5a96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get some information about the file serial number of a file.  <a href="#ad2c89ff36f1210bca331bd059f6c5a96">More...</a><br /></td></tr>
<tr class="separator:ad2c89ff36f1210bca331bd059f6c5a96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af552450a101ce66862a3be2b800e3ab8"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlt__filetransfer_8c.html#af552450a101ce66862a3be2b800e3ab8">getFileCreationDate</a> (const char *file, int *ok)</td></tr>
<tr class="memdesc:af552450a101ce66862a3be2b800e3ab8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the creation date of a file.  <a href="#af552450a101ce66862a3be2b800e3ab8">More...</a><br /></td></tr>
<tr class="separator:af552450a101ce66862a3be2b800e3ab8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a749052d632d8e0f3e8fec4f92e0f16b8"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlt__filetransfer_8c.html#a749052d632d8e0f3e8fec4f92e0f16b8">getFileCreationDate2</a> (const char *file, int *ok)</td></tr>
<tr class="memdesc:a749052d632d8e0f3e8fec4f92e0f16b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the creation date of a file.  <a href="#a749052d632d8e0f3e8fec4f92e0f16b8">More...</a><br /></td></tr>
<tr class="separator:a749052d632d8e0f3e8fec4f92e0f16b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b5e534508d07ce53911b8d1b808bcc7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlt__filetransfer_8c.html#a9b5e534508d07ce53911b8d1b808bcc7">isFile</a> (const char *file)</td></tr>
<tr class="memdesc:a9b5e534508d07ce53911b8d1b808bcc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the file exists.  <a href="#a9b5e534508d07ce53911b8d1b808bcc7">More...</a><br /></td></tr>
<tr class="separator:a9b5e534508d07ce53911b8d1b808bcc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1172be7d0b434a5ec47b3988636bdb3f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlt__filetransfer_8c.html#a1172be7d0b434a5ec47b3988636bdb3f">doTimeout</a> (int timeout)</td></tr>
<tr class="memdesc:a1172be7d0b434a5ec47b3988636bdb3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waits a period of time.  <a href="#a1172be7d0b434a5ec47b3988636bdb3f">More...</a><br /></td></tr>
<tr class="separator:a1172be7d0b434a5ec47b3988636bdb3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a01d48304b2a6f3e3da1b59123090a0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlt__filetransfer_8c.html#a8a01d48304b2a6f3e3da1b59123090a0">checkUserBufferForFreeSpace</a> ()</td></tr>
<tr class="memdesc:a8a01d48304b2a6f3e3da1b59123090a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks free space of the user buffer.  <a href="#a8a01d48304b2a6f3e3da1b59123090a0">More...</a><br /></td></tr>
<tr class="separator:a8a01d48304b2a6f3e3da1b59123090a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e4db696d6677ff6ecb756db436590b8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlt__filetransfer_8c.html#a2e4db696d6677ff6ecb756db436590b8">doRemoveFile</a> (const char *filename)</td></tr>
<tr class="memdesc:a2e4db696d6677ff6ecb756db436590b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes the given file.  <a href="#a2e4db696d6677ff6ecb756db436590b8">More...</a><br /></td></tr>
<tr class="separator:a2e4db696d6677ff6ecb756db436590b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac90f3e680bc26d3b4108dbdde96420c1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlt__filetransfer_8c.html#ac90f3e680bc26d3b4108dbdde96420c1">dlt_user_log_file_errorMessage</a> (<a class="el" href="struct_dlt_context.html">DltContext</a> *fileContext, const char *filename, int errorCode)</td></tr>
<tr class="separator:ac90f3e680bc26d3b4108dbdde96420c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a000d216b8cec4d8a6dfca2f92ac41eb1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlt__filetransfer_8c.html#a000d216b8cec4d8a6dfca2f92ac41eb1">dlt_user_log_file_infoAbout</a> (<a class="el" href="struct_dlt_context.html">DltContext</a> *fileContext, const char *filename)</td></tr>
<tr class="memdesc:a000d216b8cec4d8a6dfca2f92ac41eb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs specific file inforamtions to dlt.  <a href="#a000d216b8cec4d8a6dfca2f92ac41eb1">More...</a><br /></td></tr>
<tr class="separator:a000d216b8cec4d8a6dfca2f92ac41eb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a536b35aa373f432f3ed79c0c31606912"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlt__filetransfer_8c.html#a536b35aa373f432f3ed79c0c31606912">dlt_user_log_file_complete</a> (<a class="el" href="struct_dlt_context.html">DltContext</a> *fileContext, const char *filename, int deleteFlag, int timeout)</td></tr>
<tr class="memdesc:a536b35aa373f432f3ed79c0c31606912"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfer the complete file as several dlt logs.  <a href="#a536b35aa373f432f3ed79c0c31606912">More...</a><br /></td></tr>
<tr class="separator:a536b35aa373f432f3ed79c0c31606912"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a011b14cf5eefd9dc9dc0ecb1ed270f79"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlt__filetransfer_8c.html#a011b14cf5eefd9dc9dc0ecb1ed270f79">dlt_user_log_file_packagesCount</a> (<a class="el" href="struct_dlt_context.html">DltContext</a> *fileContext, const char *filename)</td></tr>
<tr class="memdesc:a011b14cf5eefd9dc9dc0ecb1ed270f79"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method gives information about the number of packages the file have.  <a href="#a011b14cf5eefd9dc9dc0ecb1ed270f79">More...</a><br /></td></tr>
<tr class="separator:a011b14cf5eefd9dc9dc0ecb1ed270f79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a539336400c87ac83da33b9ce36b2a0a6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlt__filetransfer_8c.html#a539336400c87ac83da33b9ce36b2a0a6">dlt_user_log_file_header_alias</a> (<a class="el" href="struct_dlt_context.html">DltContext</a> *fileContext, const char *filename, const char *alias)</td></tr>
<tr class="memdesc:a539336400c87ac83da33b9ce36b2a0a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfer the head of the file as a dlt logs.  <a href="#a539336400c87ac83da33b9ce36b2a0a6">More...</a><br /></td></tr>
<tr class="separator:a539336400c87ac83da33b9ce36b2a0a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa5a4c162cbaef396d9974ff9744991c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlt__filetransfer_8c.html#aaa5a4c162cbaef396d9974ff9744991c">dlt_user_log_file_header</a> (<a class="el" href="struct_dlt_context.html">DltContext</a> *fileContext, const char *filename)</td></tr>
<tr class="memdesc:aaa5a4c162cbaef396d9974ff9744991c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfer the head of the file as a dlt logs.  <a href="#aaa5a4c162cbaef396d9974ff9744991c">More...</a><br /></td></tr>
<tr class="separator:aaa5a4c162cbaef396d9974ff9744991c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fb7e71aefc70e439ba16fa98b43d614"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlt__filetransfer_8c.html#a7fb7e71aefc70e439ba16fa98b43d614">dlt_user_log_file_data</a> (<a class="el" href="struct_dlt_context.html">DltContext</a> *fileContext, const char *filename, int packageToTransfer, int timeout)</td></tr>
<tr class="memdesc:a7fb7e71aefc70e439ba16fa98b43d614"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfer the content data of a file.  <a href="#a7fb7e71aefc70e439ba16fa98b43d614">More...</a><br /></td></tr>
<tr class="separator:a7fb7e71aefc70e439ba16fa98b43d614"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01bc1f5b8af399eb98367905351da071"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlt__filetransfer_8c.html#a01bc1f5b8af399eb98367905351da071">dlt_user_log_file_end</a> (<a class="el" href="struct_dlt_context.html">DltContext</a> *fileContext, const char *filename, int deleteFlag)</td></tr>
<tr class="memdesc:a01bc1f5b8af399eb98367905351da071"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfer the end of the file as a dlt logs.  <a href="#a01bc1f5b8af399eb98367905351da071">More...</a><br /></td></tr>
<tr class="separator:a01bc1f5b8af399eb98367905351da071"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:acab2203504e72e5e674d3174e0bd7d5e"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlt__filetransfer_8c.html#acab2203504e72e5e674d3174e0bd7d5e">buffer</a> [<a class="el" href="dlt__filetransfer_8c.html#a6b20d41d6252e9871430c242cb1a56e7">BUFFER_SIZE</a>]</td></tr>
<tr class="memdesc:acab2203504e72e5e674d3174e0bd7d5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer for dlt file transfer. The size is defined by BUFFER_SIZE.  <a href="#acab2203504e72e5e674d3174e0bd7d5e">More...</a><br /></td></tr>
<tr class="separator:acab2203504e72e5e674d3174e0bd7d5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Alexander Wenzel <a href="#" onclick="location.href='mai'+'lto:'+'ale'+'xa'+'nde'+'r.'+'aw.'+'we'+'nze'+'l@'+'bmw'+'.d'+'e'; return false;">alexa<span style="display: none;">.nosp@m.</span>nder<span style="display: none;">.nosp@m.</span>.aw.w<span style="display: none;">.nosp@m.</span>enze<span style="display: none;">.nosp@m.</span>l@bmw<span style="display: none;">.nosp@m.</span>.de</a></dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright © 2011-2015 BMW AG. <br />
License MPL-2.0: Mozilla Public License version 2.0 <a href="http://mozilla.org/MPL/2.0/">http://mozilla.org/MPL/2.0/</a>. </dd></dl>

<p>Definition in file <a class="el" href="dlt__filetransfer_8c_source.html">dlt_filetransfer.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a6b20d41d6252e9871430c242cb1a56e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUFFER_SIZE&#160;&#160;&#160;1024</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines the buffer size of a single file package which will be logged to dlt. </p>

<p>Definition at line <a class="el" href="dlt__filetransfer_8c_source.html#l00063">63</a> of file <a class="el" href="dlt__filetransfer_8c_source.html">dlt_filetransfer.c</a>.</p>

<p>Referenced by <a class="el" href="dlt__filetransfer_8c_source.html#l00496">dlt_user_log_file_data()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00222">dlt_user_log_file_errorMessage()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00447">dlt_user_log_file_header()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00398">dlt_user_log_file_header_alias()</a>, and <a class="el" href="dlt__filetransfer_8c_source.html#l00352">dlt_user_log_file_packagesCount()</a>.</p>

</div>
</div>
<a class="anchor" id="a36da536f827b1b6192f4b3fa0975b214"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DLT_FILETRANSFER_TRANSFER_ALL_PACKAGES&#160;&#160;&#160;INT_MAX</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="dlt__filetransfer_8c_source.html#l00069">69</a> of file <a class="el" href="dlt__filetransfer_8c_source.html">dlt_filetransfer.c</a>.</p>

<p>Referenced by <a class="el" href="dlt__filetransfer_8c_source.html#l00317">dlt_user_log_file_complete()</a>, and <a class="el" href="dlt__filetransfer_8c_source.html#l00496">dlt_user_log_file_data()</a>.</p>

</div>
</div>
<a class="anchor" id="a10c648ff1ef3048a96cbb3d2ef90b97e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MIN_TIMEOUT&#160;&#160;&#160;20</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines the minimum timeout between two dlt logs. This is important because dlt should not be flooded with too many logs in a short period of time. </p>

<p>Definition at line <a class="el" href="dlt__filetransfer_8c_source.html#l00066">66</a> of file <a class="el" href="dlt__filetransfer_8c_source.html">dlt_filetransfer.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a8a01d48304b2a6f3e3da1b59123090a0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int checkUserBufferForFreeSpace </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks free space of the user buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">returns</td><td>-1 if more than 50% space in the user buffer is free. Otherwise 1 will be returned. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="dlt__filetransfer_8c_source.html#l00200">200</a> of file <a class="el" href="dlt__filetransfer_8c_source.html">dlt_filetransfer.c</a>.</p>

<p>References <a class="el" href="dlt__user_8c_source.html#l04512">dlt_user_check_buffer()</a>.</p>

<p>Referenced by <a class="el" href="dlt__filetransfer_8c_source.html#l00496">dlt_user_log_file_data()</a>.</p>

</div>
</div>
<a class="anchor" id="a536b35aa373f432f3ed79c0c31606912"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dlt_user_log_file_complete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_dlt_context.html">DltContext</a> *&#160;</td>
          <td class="paramname"><em>fileContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>deleteFlag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transfer the complete file as several dlt logs. </p>
<p>This method transfer the complete file as several dlt logs. At first it will be checked that the file exist. In the next step some generic informations about the file will be logged to dlt. Now the header will be logged to dlt. See the method dlt_user_log_file_header for more informations. Then the method dlt_user_log_data will be called with the parameter to log all packages in a loop with some timeout. At last dlt_user_log_end is called to signal that the complete file transfer was okey. This is important for the plugin of the dlt viewer. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileContext</td><td>Specific context to log the file to dlt </td></tr>
    <tr><td class="paramname">filename</td><td>Absolute file path </td></tr>
    <tr><td class="paramname">deleteFlag</td><td>Flag if the file will be deleted after transfer. 1-&gt;delete, 0-&gt;notDelete </td></tr>
    <tr><td class="paramname">timeout</td><td>Timeout in ms to wait between some logs. Important that the FIFO of dlt will not be flooded with to many messages in a short period of time. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if everything was okey. If there was a failure a value &lt; 0 will be returned. </dd></dl>

<p>Definition at line <a class="el" href="dlt__filetransfer_8c_source.html#l00317">317</a> of file <a class="el" href="dlt__filetransfer_8c_source.html">dlt_filetransfer.c</a>.</p>

<p>References <a class="el" href="dlt__filetransfer_8h_source.html#l00035">DLT_FILETRANSFER_ERROR_FILE_COMPLETE</a>, <a class="el" href="dlt__filetransfer_8h_source.html#l00037">DLT_FILETRANSFER_ERROR_FILE_COMPLETE1</a>, <a class="el" href="dlt__filetransfer_8h_source.html#l00039">DLT_FILETRANSFER_ERROR_FILE_COMPLETE2</a>, <a class="el" href="dlt__filetransfer_8h_source.html#l00041">DLT_FILETRANSFER_ERROR_FILE_COMPLETE3</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00069">DLT_FILETRANSFER_TRANSFER_ALL_PACKAGES</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00496">dlt_user_log_file_data()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00621">dlt_user_log_file_end()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00222">dlt_user_log_file_errorMessage()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00447">dlt_user_log_file_header()</a>, and <a class="el" href="dlt__filetransfer_8c_source.html#l00181">isFile()</a>.</p>

<p>Referenced by <a class="el" href="dlt-example-filetransfer_8c_source.html#l00103">main()</a>, <a class="el" href="dlt-test-filetransfer_8c_source.html#l00110">testFile1Run1()</a>, <a class="el" href="dlt-test-filetransfer_8c_source.html#l00193">testFile2Run1()</a>, and <a class="el" href="dlt-test-filetransfer_8c_source.html#l00276">testFile3Run1()</a>.</p>

</div>
</div>
<a class="anchor" id="a7fb7e71aefc70e439ba16fa98b43d614"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dlt_user_log_file_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_dlt_context.html">DltContext</a> *&#160;</td>
          <td class="paramname"><em>fileContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>packageToTransfer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transfer the content data of a file. </p>
<p>See the Mainpages.c for more informations. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileContext</td><td>Specific context to log the file to dlt </td></tr>
    <tr><td class="paramname">filename</td><td>Absolute file path </td></tr>
    <tr><td class="paramname">packageToTransfer</td><td>Package number to transfer. If this param is LONG_MAX, the whole file will be transferred with a specific timeout </td></tr>
    <tr><td class="paramname">timeout</td><td>Timeout to wait between dlt logs. Important because the dlt FIFO should not be flooded. Default is defined by MIN_TIMEOUT. The given timeout in ms can not be smaller than MIN_TIMEOUT. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if everything was okey. If there was a failure a value &lt; 0 will be returned. </dd></dl>

<p>Definition at line <a class="el" href="dlt__filetransfer_8c_source.html#l00496">496</a> of file <a class="el" href="dlt__filetransfer_8c_source.html">dlt_filetransfer.c</a>.</p>

<p>References <a class="el" href="dlt__filetransfer_8c_source.html#l00073">buffer</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00063">BUFFER_SIZE</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00200">checkUserBufferForFreeSpace()</a>, <a class="el" href="dlt__filetransfer_8h_source.html#l00045">DLT_FILETRANSFER_ERROR_FILE_DATA</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00069">DLT_FILETRANSFER_TRANSFER_ALL_PACKAGES</a>, <a class="el" href="dlt__user__macros_8h_source.html#l00276">DLT_INT</a>, <a class="el" href="dlt__user__macros_8h_source.html#l00182">DLT_LOG</a>, <a class="el" href="dlt__types_8h_source.html#l00107">DLT_LOG_ERROR</a>, <a class="el" href="dlt__types_8h_source.html#l00109">DLT_LOG_INFO</a>, <a class="el" href="dlt__user__macros_8h_source.html#l00315">DLT_RAW</a>, <a class="el" href="dlt__user__macros_8h_source.html#l00234">DLT_STRING</a>, <a class="el" href="dlt__user__macros_8h_source.html#l00295">DLT_UINT</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00222">dlt_user_log_file_errorMessage()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00352">dlt_user_log_file_packagesCount()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00191">doTimeout()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00124">getFileSerialNumber()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00181">isFile()</a>, and <a class="el" href="dlt__common_8h_source.html#l00232">NULL</a>.</p>

<p>Referenced by <a class="el" href="dlt__filetransfer_8c_source.html#l00317">dlt_user_log_file_complete()</a>, <a class="el" href="dlt-system-filetransfer_8c_source.html#l00141">send_dumped_file()</a>, <a class="el" href="dlt-test-filetransfer_8c_source.html#l00130">testFile1Run2()</a>, <a class="el" href="dlt-test-filetransfer_8c_source.html#l00212">testFile2Run2()</a>, and <a class="el" href="dlt-test-filetransfer_8c_source.html#l00298">testFile3Run2()</a>.</p>

</div>
</div>
<a class="anchor" id="a01bc1f5b8af399eb98367905351da071"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dlt_user_log_file_end </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_dlt_context.html">DltContext</a> *&#160;</td>
          <td class="paramname"><em>fileContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>deleteFlag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transfer the end of the file as a dlt logs. </p>
<p>The end of the file must be logged to dlt because the end contains inforamtion about the file serial number. This informations is needed from the plugin of the dlt viewer. See the Mainpages.c for more informations. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileContext</td><td>Specific context to log the file to dlt </td></tr>
    <tr><td class="paramname">filename</td><td>Absolute file path </td></tr>
    <tr><td class="paramname">deleteFlag</td><td>Flag to delete the file after the whole file is transferred (logged to dlt).1-&gt;delete,0-&gt;NotDelete </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if everything was okey. If there was a failure a value &lt; 0 will be returned. </dd></dl>

<p>Definition at line <a class="el" href="dlt__filetransfer_8c_source.html#l00621">621</a> of file <a class="el" href="dlt__filetransfer_8c_source.html">dlt_filetransfer.c</a>.</p>

<p>References <a class="el" href="dlt__filetransfer_8h_source.html#l00049">DLT_FILETRANSFER_ERROR_FILE_END</a>, <a class="el" href="dlt__user__macros_8h_source.html#l00182">DLT_LOG</a>, <a class="el" href="dlt__types_8h_source.html#l00107">DLT_LOG_ERROR</a>, <a class="el" href="dlt__types_8h_source.html#l00109">DLT_LOG_INFO</a>, <a class="el" href="dlt__user__macros_8h_source.html#l00234">DLT_STRING</a>, <a class="el" href="dlt__user__macros_8h_source.html#l00295">DLT_UINT</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00222">dlt_user_log_file_errorMessage()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00218">doRemoveFile()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00124">getFileSerialNumber()</a>, and <a class="el" href="dlt__filetransfer_8c_source.html#l00181">isFile()</a>.</p>

<p>Referenced by <a class="el" href="dlt__filetransfer_8c_source.html#l00317">dlt_user_log_file_complete()</a>, <a class="el" href="dlt-system-filetransfer_8c_source.html#l00141">send_dumped_file()</a>, <a class="el" href="dlt-test-filetransfer_8c_source.html#l00130">testFile1Run2()</a>, <a class="el" href="dlt-test-filetransfer_8c_source.html#l00212">testFile2Run2()</a>, and <a class="el" href="dlt-test-filetransfer_8c_source.html#l00298">testFile3Run2()</a>.</p>

</div>
</div>
<a class="anchor" id="ac90f3e680bc26d3b4108dbdde96420c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dlt_user_log_file_errorMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_dlt_context.html">DltContext</a> *&#160;</td>
          <td class="paramname"><em>fileContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>errorCode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="dlt__filetransfer_8c_source.html#l00222">222</a> of file <a class="el" href="dlt__filetransfer_8c_source.html">dlt_filetransfer.c</a>.</p>

<p>References <a class="el" href="dlt__filetransfer_8c_source.html#l00063">BUFFER_SIZE</a>, <a class="el" href="dlt__user__macros_8h_source.html#l00276">DLT_INT</a>, <a class="el" href="dlt__user__macros_8h_source.html#l00182">DLT_LOG</a>, <a class="el" href="dlt__types_8h_source.html#l00107">DLT_LOG_ERROR</a>, <a class="el" href="dlt__user__macros_8h_source.html#l00234">DLT_STRING</a>, <a class="el" href="dlt__user__macros_8h_source.html#l00295">DLT_UINT</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00352">dlt_user_log_file_packagesCount()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00165">getFileCreationDate2()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00124">getFileSerialNumber()</a>, and <a class="el" href="dlt__filetransfer_8c_source.html#l00081">getFilesize()</a>.</p>

<p>Referenced by <a class="el" href="dlt__filetransfer_8c_source.html#l00317">dlt_user_log_file_complete()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00496">dlt_user_log_file_data()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00621">dlt_user_log_file_end()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00447">dlt_user_log_file_header()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00398">dlt_user_log_file_header_alias()</a>, and <a class="el" href="dlt__filetransfer_8c_source.html#l00270">dlt_user_log_file_infoAbout()</a>.</p>

</div>
</div>
<a class="anchor" id="aaa5a4c162cbaef396d9974ff9744991c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dlt_user_log_file_header </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_dlt_context.html">DltContext</a> *&#160;</td>
          <td class="paramname"><em>fileContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transfer the head of the file as a dlt logs. </p>
<p>The head of the file must be logged to dlt because the head contains inforamtion about the file serial number, the file name, the file size, package number the file have and the buffer size. All these informations are needed from the plugin of the dlt viewer. See the Mainpages.c for more informations. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileContext</td><td>Specific context to log the file to dlt </td></tr>
    <tr><td class="paramname">filename</td><td>Absolute file path </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if everything was okey. If there was a failure a value &lt; 0 will be returned. </dd></dl>

<p>Definition at line <a class="el" href="dlt__filetransfer_8c_source.html#l00447">447</a> of file <a class="el" href="dlt__filetransfer_8c_source.html">dlt_filetransfer.c</a>.</p>

<p>References <a class="el" href="dlt__filetransfer_8c_source.html#l00063">BUFFER_SIZE</a>, <a class="el" href="dlt__filetransfer_8h_source.html#l00043">DLT_FILETRANSFER_ERROR_FILE_HEAD</a>, <a class="el" href="dlt__user__macros_8h_source.html#l00182">DLT_LOG</a>, <a class="el" href="dlt__types_8h_source.html#l00107">DLT_LOG_ERROR</a>, <a class="el" href="dlt__types_8h_source.html#l00109">DLT_LOG_INFO</a>, <a class="el" href="dlt__user__macros_8h_source.html#l00234">DLT_STRING</a>, <a class="el" href="dlt__user__macros_8h_source.html#l00295">DLT_UINT</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00222">dlt_user_log_file_errorMessage()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00352">dlt_user_log_file_packagesCount()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00165">getFileCreationDate2()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00124">getFileSerialNumber()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00081">getFilesize()</a>, and <a class="el" href="dlt__filetransfer_8c_source.html#l00181">isFile()</a>.</p>

<p>Referenced by <a class="el" href="dlt__filetransfer_8c_source.html#l00317">dlt_user_log_file_complete()</a>, <a class="el" href="dlt-test-filetransfer_8c_source.html#l00130">testFile1Run2()</a>, <a class="el" href="dlt-test-filetransfer_8c_source.html#l00212">testFile2Run2()</a>, and <a class="el" href="dlt-test-filetransfer_8c_source.html#l00298">testFile3Run2()</a>.</p>

</div>
</div>
<a class="anchor" id="a539336400c87ac83da33b9ce36b2a0a6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dlt_user_log_file_header_alias </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_dlt_context.html">DltContext</a> *&#160;</td>
          <td class="paramname"><em>fileContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>alias</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transfer the head of the file as a dlt logs. </p>
<p>The head of the file must be logged to dlt because the head contains inforamtion about the file serial number, the file name, the file size, package number the file have and the buffer size. All these informations are needed from the plugin of the dlt viewer. See the Mainpages.c for more informations. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileContext</td><td>Specific context to log the file to dlt </td></tr>
    <tr><td class="paramname">filename</td><td>Absolute file path </td></tr>
    <tr><td class="paramname">alias</td><td>Alias for the file. An alternative name to show in the receiving end </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if everything was okey. If there was a failure a value &lt; 0 will be returned. </dd></dl>

<p>Definition at line <a class="el" href="dlt__filetransfer_8c_source.html#l00398">398</a> of file <a class="el" href="dlt__filetransfer_8c_source.html">dlt_filetransfer.c</a>.</p>

<p>References <a class="el" href="dlt__filetransfer_8c_source.html#l00063">BUFFER_SIZE</a>, <a class="el" href="dlt__filetransfer_8h_source.html#l00043">DLT_FILETRANSFER_ERROR_FILE_HEAD</a>, <a class="el" href="dlt__user__macros_8h_source.html#l00182">DLT_LOG</a>, <a class="el" href="dlt__types_8h_source.html#l00107">DLT_LOG_ERROR</a>, <a class="el" href="dlt__types_8h_source.html#l00109">DLT_LOG_INFO</a>, <a class="el" href="dlt__user__macros_8h_source.html#l00234">DLT_STRING</a>, <a class="el" href="dlt__user__macros_8h_source.html#l00295">DLT_UINT</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00222">dlt_user_log_file_errorMessage()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00352">dlt_user_log_file_packagesCount()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00165">getFileCreationDate2()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00124">getFileSerialNumber()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00081">getFilesize()</a>, and <a class="el" href="dlt__filetransfer_8c_source.html#l00181">isFile()</a>.</p>

<p>Referenced by <a class="el" href="dlt-system-filetransfer_8c_source.html#l00141">send_dumped_file()</a>.</p>

</div>
</div>
<a class="anchor" id="a000d216b8cec4d8a6dfca2f92ac41eb1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dlt_user_log_file_infoAbout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_dlt_context.html">DltContext</a> *&#160;</td>
          <td class="paramname"><em>fileContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Logs specific file inforamtions to dlt. </p>
<p>The filename, file size, file serial number and the number of packages will be logged to dlt. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileContext</td><td>Specific context </td></tr>
    <tr><td class="paramname">filename</td><td>Absolute file path </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if everything was okey.If there was a failure a value &lt; 0 will be returned. </dd></dl>

<p>Definition at line <a class="el" href="dlt__filetransfer_8c_source.html#l00270">270</a> of file <a class="el" href="dlt__filetransfer_8c_source.html">dlt_filetransfer.c</a>.</p>

<p>References <a class="el" href="dlt__filetransfer_8h_source.html#l00051">DLT_FILETRANSFER_ERROR_INFO_ABOUT</a>, <a class="el" href="dlt__user__macros_8h_source.html#l00182">DLT_LOG</a>, <a class="el" href="dlt__types_8h_source.html#l00107">DLT_LOG_ERROR</a>, <a class="el" href="dlt__types_8h_source.html#l00109">DLT_LOG_INFO</a>, <a class="el" href="dlt__user__macros_8h_source.html#l00234">DLT_STRING</a>, <a class="el" href="dlt__user__macros_8h_source.html#l00295">DLT_UINT</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00222">dlt_user_log_file_errorMessage()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00352">dlt_user_log_file_packagesCount()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00165">getFileCreationDate2()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00124">getFileSerialNumber()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00081">getFilesize()</a>, and <a class="el" href="dlt__filetransfer_8c_source.html#l00181">isFile()</a>.</p>

<p>Referenced by <a class="el" href="dlt-example-filetransfer_8c_source.html#l00103">main()</a>, and <a class="el" href="dlt-test-filetransfer_8c_source.html#l00348">testFile3Run3()</a>.</p>

</div>
</div>
<a class="anchor" id="a011b14cf5eefd9dc9dc0ecb1ed270f79"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dlt_user_log_file_packagesCount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_dlt_context.html">DltContext</a> *&#160;</td>
          <td class="paramname"><em>fileContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method gives information about the number of packages the file have. </p>
<p>Every file will be divided into several packages. Every package will be logged as a single dlt log. The number of packages depends on the BUFFER_SIZE. At first it will be checked if the file exist. Then the file will be divided into several packages depending on the buffer size. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileContext</td><td>Specific context to log the file to dlt </td></tr>
    <tr><td class="paramname">filename</td><td>Absolute file path </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the number of packages if everything was okey. If there was a failure a value &lt; 0 will be returned. </dd></dl>

<p>Definition at line <a class="el" href="dlt__filetransfer_8c_source.html#l00352">352</a> of file <a class="el" href="dlt__filetransfer_8c_source.html">dlt_filetransfer.c</a>.</p>

<p>References <a class="el" href="dlt__filetransfer_8c_source.html#l00063">BUFFER_SIZE</a>, <a class="el" href="dlt__filetransfer_8h_source.html#l00053">DLT_FILETRANSFER_ERROR_PACKAGE_COUNT</a>, <a class="el" href="dlt__user__macros_8h_source.html#l00276">DLT_INT</a>, <a class="el" href="dlt__user__macros_8h_source.html#l00182">DLT_LOG</a>, <a class="el" href="dlt__types_8h_source.html#l00107">DLT_LOG_ERROR</a>, <a class="el" href="dlt__user__macros_8h_source.html#l00234">DLT_STRING</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00081">getFilesize()</a>, and <a class="el" href="dlt__filetransfer_8c_source.html#l00181">isFile()</a>.</p>

<p>Referenced by <a class="el" href="dlt__filetransfer_8c_source.html#l00496">dlt_user_log_file_data()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00222">dlt_user_log_file_errorMessage()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00447">dlt_user_log_file_header()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00398">dlt_user_log_file_header_alias()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00270">dlt_user_log_file_infoAbout()</a>, <a class="el" href="dlt-system-filetransfer_8c_source.html#l00141">send_dumped_file()</a>, <a class="el" href="dlt-test-filetransfer_8c_source.html#l00130">testFile1Run2()</a>, <a class="el" href="dlt-test-filetransfer_8c_source.html#l00212">testFile2Run2()</a>, and <a class="el" href="dlt-test-filetransfer_8c_source.html#l00298">testFile3Run2()</a>.</p>

</div>
</div>
<a class="anchor" id="a2e4db696d6677ff6ecb756db436590b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int doRemoveFile </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes the given file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>Absolute file path </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the file is successfully deleted, a zero value is returned.If the file can not be deleted a nonzero value is returned. </dd></dl>

<p>Definition at line <a class="el" href="dlt__filetransfer_8c_source.html#l00218">218</a> of file <a class="el" href="dlt__filetransfer_8c_source.html">dlt_filetransfer.c</a>.</p>

<p>Referenced by <a class="el" href="dlt__filetransfer_8c_source.html#l00621">dlt_user_log_file_end()</a>.</p>

</div>
</div>
<a class="anchor" id="a1172be7d0b434a5ec47b3988636bdb3f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void doTimeout </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Waits a period of time. </p>
<p>Waits a period of time. The minimal time to wait is MIN_TIMEOUT. This makes sure that the FIFO of dlt is not flooded. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout</td><td>Timeout to in ms but can not be smaller as MIN_TIMEOUT </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="dlt__filetransfer_8c_source.html#l00191">191</a> of file <a class="el" href="dlt__filetransfer_8c_source.html">dlt_filetransfer.c</a>.</p>

<p>Referenced by <a class="el" href="dlt__filetransfer_8c_source.html#l00496">dlt_user_log_file_data()</a>.</p>

</div>
</div>
<a class="anchor" id="af552450a101ce66862a3be2b800e3ab8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">time_t getFileCreationDate </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>ok</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the creation date of a file. </p>
<p>See stat(2) for more informations. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>Absolute file path </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the creation date of a file </dd></dl>

<p>Definition at line <a class="el" href="dlt__filetransfer_8c_source.html#l00149">149</a> of file <a class="el" href="dlt__filetransfer_8c_source.html">dlt_filetransfer.c</a>.</p>

</div>
</div>
<a class="anchor" id="a749052d632d8e0f3e8fec4f92e0f16b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* getFileCreationDate2 </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>ok</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the creation date of a file. </p>
<p>Format of the creation date is Day Mon dd hh:mm:ss yyyy </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>Absolute file path </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the creation date of a file </dd></dl>

<p>Definition at line <a class="el" href="dlt__filetransfer_8c_source.html#l00165">165</a> of file <a class="el" href="dlt__filetransfer_8c_source.html">dlt_filetransfer.c</a>.</p>

<p>Referenced by <a class="el" href="dlt__filetransfer_8c_source.html#l00222">dlt_user_log_file_errorMessage()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00447">dlt_user_log_file_header()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00398">dlt_user_log_file_header_alias()</a>, and <a class="el" href="dlt__filetransfer_8c_source.html#l00270">dlt_user_log_file_infoAbout()</a>.</p>

</div>
</div>
<a class="anchor" id="ad2c89ff36f1210bca331bd059f6c5a96"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t getFileSerialNumber </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>ok</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get some information about the file serial number of a file. </p>
<p>See stat(2) for more informations. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>Absolute file path </td></tr>
    <tr><td class="paramname">value</td><td>*ok == 0 -&gt; error; *ok == 1 -&gt; ok </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns a unique number associated with each filename </dd></dl>

<p>Definition at line <a class="el" href="dlt__filetransfer_8c_source.html#l00124">124</a> of file <a class="el" href="dlt__filetransfer_8c_source.html">dlt_filetransfer.c</a>.</p>

<p>References <a class="el" href="dlt__filetransfer_8c_source.html#l00099">stringHash()</a>.</p>

<p>Referenced by <a class="el" href="dlt__filetransfer_8c_source.html#l00496">dlt_user_log_file_data()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00621">dlt_user_log_file_end()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00222">dlt_user_log_file_errorMessage()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00447">dlt_user_log_file_header()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00398">dlt_user_log_file_header_alias()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00270">dlt_user_log_file_infoAbout()</a>, and <a class="el" href="dlt-system-filetransfer_8c_source.html#l00110">unique_name()</a>.</p>

</div>
</div>
<a class="anchor" id="a665d8b4dd0991a49b2fd08aa11775261"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t getFilesize </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>ok</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get some information about the file size of a file. </p>
<p>See stat(2) for more informations. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>Absolute file path </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the size of the file (if it is a regular file or a symbolic link) in bytes. </dd></dl>

<p>Definition at line <a class="el" href="dlt__filetransfer_8c_source.html#l00081">81</a> of file <a class="el" href="dlt__filetransfer_8c_source.html">dlt_filetransfer.c</a>.</p>

<p>Referenced by <a class="el" href="dlt__filetransfer_8c_source.html#l00222">dlt_user_log_file_errorMessage()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00447">dlt_user_log_file_header()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00398">dlt_user_log_file_header_alias()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00270">dlt_user_log_file_infoAbout()</a>, and <a class="el" href="dlt__filetransfer_8c_source.html#l00352">dlt_user_log_file_packagesCount()</a>.</p>

</div>
</div>
<a class="anchor" id="a9b5e534508d07ce53911b8d1b808bcc7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int isFile </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if the file exists. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>Absolute file path </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 1 if the file exists, 0 if the file does not exist </dd></dl>

<p>Definition at line <a class="el" href="dlt__filetransfer_8c_source.html#l00181">181</a> of file <a class="el" href="dlt__filetransfer_8c_source.html">dlt_filetransfer.c</a>.</p>

<p>Referenced by <a class="el" href="dlt__filetransfer_8c_source.html#l00317">dlt_user_log_file_complete()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00496">dlt_user_log_file_data()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00621">dlt_user_log_file_end()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00447">dlt_user_log_file_header()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00398">dlt_user_log_file_header_alias()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00270">dlt_user_log_file_infoAbout()</a>, and <a class="el" href="dlt__filetransfer_8c_source.html#l00352">dlt_user_log_file_packagesCount()</a>.</p>

</div>
</div>
<a class="anchor" id="a0d361034bc2eefcc8f3235832d67465a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stringHash </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>hash</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A simple Hash function for C-strings </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>input string. E.g. a file path. </td></tr>
    <tr><td class="paramname">hash</td><td>start and result value for hash computation </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="dlt__filetransfer_8c_source.html#l00099">99</a> of file <a class="el" href="dlt__filetransfer_8c_source.html">dlt_filetransfer.c</a>.</p>

<p>Referenced by <a class="el" href="dlt__filetransfer_8c_source.html#l00124">getFileSerialNumber()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="acab2203504e72e5e674d3174e0bd7d5e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char buffer[<a class="el" href="dlt__filetransfer_8c.html#a6b20d41d6252e9871430c242cb1a56e7">BUFFER_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Buffer for dlt file transfer. The size is defined by BUFFER_SIZE. </p>

<p>Definition at line <a class="el" href="dlt__filetransfer_8c_source.html#l00073">73</a> of file <a class="el" href="dlt__filetransfer_8c_source.html">dlt_filetransfer.c</a>.</p>

<p>Referenced by <a class="el" href="dlt-system-logfile_8c_source.html#l00058">DLT_IMPORT_CONTEXT()</a>, <a class="el" href="dlt-kpi-interrupt_8c_source.html#l00029">dlt_kpi_log_interrupts()</a>, <a class="el" href="dlt-kpi_8c_source.html#l00214">dlt_kpi_log_list()</a>, <a class="el" href="dlt-kpi-process_8c_source.html#l00099">dlt_kpi_process_update_ctx_switches()</a>, <a class="el" href="dlt-kpi-process_8c_source.html#l00144">dlt_kpi_process_update_io_bytes()</a>, <a class="el" href="dlt-kpi-common_8c_source.html#l00078">dlt_kpi_read_cpu_count()</a>, <a class="el" href="dlt-kpi-common_8c_source.html#l00031">dlt_kpi_read_file_compact()</a>, <a class="el" href="dlt-kpi-process_8c_source.html#l00336">dlt_kpi_read_process_stat_to_ulong()</a>, <a class="el" href="dlt__common_8c_source.html#l00715">dlt_message_header_flags()</a>, <a class="el" href="dlt__filetransfer_8c_source.html#l00496">dlt_user_log_file_data()</a>, <a class="el" href="dlt-control_8c_source.html#l00276">main()</a>, <a class="el" href="dlt-test-stress_8c_source.html#l00340">stress3()</a>, <a class="el" href="dlt-test-user_8c_source.html#l00724">test2f()</a>, <a class="el" href="dlt-test-user_8c_source.html#l00381">test2m()</a>, <a class="el" href="dlt-test-user_8c_source.html#l00844">test3f()</a>, <a class="el" href="dlt-test-user_8c_source.html#l00420">test3m()</a>, <a class="el" href="dlt-test-user_8c_source.html#l00968">test4f()</a>, <a class="el" href="dlt-test-user_8c_source.html#l00463">test4m()</a>, <a class="el" href="dlt-test-user_8c_source.html#l01022">test5f()</a>, <a class="el" href="dlt-test-user_8c_source.html#l00489">test5m()</a>, <a class="el" href="dlt-test-user_8c_source.html#l01113">test7f()</a>, <a class="el" href="dlt-test-user_8c_source.html#l00573">test7m()</a>, <a class="el" href="dlt-test-user_8c_source.html#l01154">test8f()</a>, <a class="el" href="dlt-test-user_8c_source.html#l00606">test8m()</a>, <a class="el" href="dlt-test-user_8c_source.html#l01195">test9f()</a>, <a class="el" href="dlt-test-user_8c_source.html#l00639">test9m()</a>, and <a class="el" href="dlt-test-stress-user_8c_source.html#l00239">testall()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_c85d3e3c5052e9ad9ce18c6863244a25.html">lib</a></li><li class="navelem"><a class="el" href="dlt__filetransfer_8c.html">dlt_filetransfer.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
